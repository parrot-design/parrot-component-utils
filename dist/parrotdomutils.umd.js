!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ParrotDomUtils={})}(this,(function(e){"use strict";function t(e){if(null===e)return window;if("[object Window]"!==e.toString()){const t=e.ownerDocument;return t&&t.defaultView||window}return e}function n(e){return e instanceof t(e).Element||e instanceof Element}function o(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function r(e){if("undefined"==typeof ShadowRoot)return!1;return e instanceof t(e).ShadowRoot||e instanceof ShadowRoot}function i(e){return e?(e.nodeName||"").toLowerCase():null}function u(e){return((n(e)?e.ownerDocument:e.document)||window.document).documentElement}function l(e){return"html"===i(e)?e:e.assignedSlot||e.parentNode||(r(e)?e.host:null)||u(e)}function f(e){return t(e).getComputedStyle(e)}function c(e){const{overflow:t,overflowX:n,overflowY:o}=f(e);return/auto|scroll|overlay|hidden/.test(t+o+n)}function d(e){return["html","body","#document"].indexOf(i(e))>=0?e.ownerDocument.body:o(e)&&c(e)?e:d(l(e))}function s(e){return["table","td","th"].indexOf(i(e))>=0}function a(e){return o(e)&&"fixed"!==getComputedStyle(e).position?e.offsetParent:null}e.getComputedStyle=f,e.getDocumentElement=u,e.getNodeName=i,e.getOffsetParent=function(e){const n=t(e);let r=a(e);for(;r&&s(r)&&"static"===getComputedStyle(r).position;)r=a(r);return r&&("html"===i(r)||"body"===i(r)&&"static"===getComputedStyle(r).position)?n:r||function(e){const t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&o(e)&&"fixed"===getComputedStyle(e).position)return null;let n=l(e);for(;o(n)&&["html","body"].indexOf(i(n))<0;){const e=getComputedStyle(n);if("none"!==e.transform||"none"!==e.perspective||"paint"===e.contain||-1!==["transform","perspective"].indexOf(e.willChange)||t&&"filter"===e.willChange||t&&e.filter&&"none"!==e.filter)return n;n=n.parentNode}return null}(e)},e.getParentNode=l,e.getScrollParent=d,e.getWindow=t,e.isElement=n,e.isHTMLElement=o,e.isScrollParent=c,e.isShadowRoot=r,e.listScrollParents=function e(n,o=[]){var r;const i=d(n),u=i===(null===(r=n.ownerDocument)||void 0===r?void 0:r.body),f=t(i),s=u?[f].concat(f.visualViewport||[],c(i)?i:[]):i,a=o.concat(s);return u?a:a.concat(e(l(s)))},e.reflow=function(e){return e.scrollTop},Object.defineProperty(e,"__esModule",{value:!0})}));
